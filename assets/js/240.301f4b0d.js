(window.webpackJsonp=window.webpackJsonp||[]).push([[240],{670:function(t,a,s){"use strict";s.r(a);var p=s(2),e=Object(p.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"优先级"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#优先级"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/CSS/Specificity",target:"_blank",rel:"noopener noreferrer"}},[t._v("优先级"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("浏览器通过优先级来判断哪些属性值与一个元素最为相关，从而在该元素上应用这些属性值。优先级是基于不同种类选择器组成的匹配规则。")]),t._v(" "),a("h3",{attrs:{id:"优先级是如何计算的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#优先级是如何计算的"}},[t._v("#")]),t._v(" 优先级是如何计算的？")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("优先级就是分配给指定的 CSS 声明的一个权重，它由 匹配的选择器中的 每一种选择器类型的 数值 决定。")])]),t._v(" "),a("li",[a("p",[t._v("而当优先级与多个 CSS 声明中任意一个声明的优先级相等的时候，CSS 中最后的那个声明将会被应用到元素上。")])]),t._v(" "),a("li",[a("p",[t._v("当同一个元素有多个声明的时候，优先级才会有意义。因为每一个直接作用于元素的 CSS 规则总是会接管/覆盖（take over）该元素从祖先元素继承而来的规则。")])])]),t._v(" "),a("p",[t._v("注意: 文档树中元素的接近度（Proximity of elements）对优先级没有影响。")]),t._v(" "),a("p",[t._v("选择器类型")]),t._v(" "),a("h3",{attrs:{id:"下面列表中-选择器类型的优先级是递增的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下面列表中-选择器类型的优先级是递增的"}},[t._v("#")]),t._v(" 下面列表中，选择器类型的优先级是递增的：")]),t._v(" "),a("ol",[a("li",[t._v("类型选择器（例如，h1）和伪元素（例如，::before）")]),t._v(" "),a("li",[t._v('类选择器 (例如，.example)，属性选择器（例如，[type="radio"]）和伪类（例如，:hover）')]),t._v(" "),a("li",[t._v("ID 选择器（例如，#example）。")]),t._v(" "),a("li",[t._v("通配选择符（universal selector）（*）关系选择符（combinators）（+, >, ~, ' ', ||）和 否定伪类（negation pseudo-class）（:not()）对优先级没有影响。（但是，在:not() 内部声明的选择器会影响优先级）。")])]),t._v(" "),a("p",[t._v('您可以访问 "Specificity" in "Cascade and inheritance" 或者 https://specifishity.com 来了解更多关于优先级的详细信息。\n给元素添加的内联样式 (例如，style="font-weight:bold") 总会覆盖外部样式表的任何样式 ，因此可看作是具有最高的优先级。')]),t._v(" "),a("h3",{attrs:{id:"important-例外规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#important-例外规则"}},[t._v("#")]),t._v(" !important 例外规则")]),t._v(" "),a("p",[t._v("当在一个样式声明中使用一个 !important 规则时，此声明将覆盖任何其他声明。虽然，从技术上讲，!important 与优先级无关，但它与最终的结果直接相关。使用 !important")]),t._v(" "),a("p",[t._v("是一个坏习惯，应该尽量避免，因为这破坏了样式表中的固有的级联规则 使得调试找bug变得更加困难了。当两条相互冲突的带有 !important 规则的声明被应用到相同的元素上时，拥有更大优先级的声明将会被采用。")]),t._v(" "),a("blockquote",[a("p",[t._v("一些经验法则：")])]),t._v(" "),a("p",[t._v("一定要优先考虑使用样式规则的优先级来解决问题而不是 !important")]),t._v(" "),a("p",[t._v("只有在需要覆盖全站或外部 CSS 的特定页面中使用 !important")]),t._v(" "),a("p",[t._v("永远不要在你的插件中使用 !important")]),t._v(" "),a("p",[t._v("永远不要在全站范围的 CSS 代码中使用 !important")]),t._v(" "),a("p",[t._v("与其使用 !important，你可以：")]),t._v(" "),a("p",[t._v("更好地利用 CSS 级联属性")]),t._v(" "),a("p",[t._v("使用更具体的规则。在您选择的元素之前，增加一个或多个其他元素，使选择器变得更加具体，并获得更高的优先级。")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Text"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("div#test span")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" green"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("div span")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" blue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("span")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" red"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("无论 css 语句的顺序是什么样的，文本都会是绿色的（green），因为这一条规则是最有针对性、优先级最高的。（同理，无论语句顺序怎样，蓝色 blue 的规则都会覆盖红色 red 的规则）")]),t._v(" "),a("p",[t._v("对于（2）的一种特殊情况，当您无其他要指定的内容时，请复制简单的选择器以增加特异性。")]),t._v(" "),a("p",[t._v("#myId#myId span { color: yellow; }")]),t._v(" "),a("p",[t._v(".myClass.myClass span { color: orange; }")]),t._v(" "),a("p",[t._v("什么的情况下可以使用 !important：")]),t._v(" "),a("p",[t._v("A) 覆盖内联样式")]),t._v(" "),a("p",[t._v("你的网站上有一个设定了全站样式的 CSS 文件，同时你（或是你同事）写了一些很差的内联样式。")]),t._v(" "),a("p",[t._v("全局的CSS文件会在全局范围内设置网站的外观，而直接在各个元素上定义的内联样式可能会覆盖您的全局CSS文件。 内联样式和!important都被认为是非常不好的做法，但是有时你可以在CSS文件里用!important去覆盖内联样式。")]),t._v(" "),a("p",[t._v("在这种情况下，你就可以在你全局的 CSS 文件中写一些 !important 的样式来覆盖掉那些直接写在元素上的行内样式。")]),t._v(" "),a("div",{staticClass:"foo",staticStyle:{color:"red"}},[t._v("What color am I?")]),t._v(" "),a("p",[t._v('.foo[style*="color: red"] {')]),t._v(" "),a("p",[t._v("color: firebrick !important;")]),t._v(" "),a("p",[t._v("}")]),t._v(" "),a("p",[t._v("许多JavaScript框架和库都添加了内联样式。 有时候可以用!important与优先级高的选择器一起使用，以重写覆盖这些内联样式。")]),t._v(" "),a("p",[t._v("B) 覆盖优先级高的选择器")]),t._v(" "),a("p",[t._v("#someElement p {")]),t._v(" "),a("p",[t._v("color: blue;")]),t._v(" "),a("p",[t._v("}")]),t._v(" "),a("p",[t._v("p.awesome {")]),t._v(" "),a("p",[t._v("color: red;")]),t._v(" "),a("p",[t._v("}")]),t._v(" "),a("p",[t._v("在外层有 #someElement 的情况下，你怎样能使 awesome 的段落变成红色呢？这种情况下，如果不使用 !important ，第一条规则永远比第二条的优先级更高")]),t._v(" "),a("p",[t._v("怎样覆盖 !important")]),t._v(" "),a("p",[t._v("A)很简单，只需再添加一条 带 !important 的CSS规则，再给这个给选择器更高的优先级（添加一个标签，ID或类）；或是添加一样选择器，把它的位置放在原有声明的后面（总之，最后定义一条规则比胜）。")]),t._v(" "),a("p",[t._v("一些拥有更高优先级的例子：")]),t._v(" "),a("p",[t._v("table td { height: 50px !important; }")]),t._v(" "),a("p",[t._v(".myTable td { height: 50px !important; }")]),t._v(" "),a("p",[t._v("#myTable td { height: 50px !important; }")]),t._v(" "),a("p",[t._v("B)或者使用相同的选择器，但是置于已有的样式之后：")]),t._v(" "),a("p",[t._v("td { height: 50px !important; }")]),t._v(" "),a("p",[t._v("C)或干脆改写原来的规则，以避免使用 !important。")]),t._v(" "),a("p",[t._v('[id="someElement"] p {')]),t._v(" "),a("p",[t._v("color: blue;")]),t._v(" "),a("p",[t._v("}")]),t._v(" "),a("p",[t._v("p.awesome {")]),t._v(" "),a("p",[t._v("color: red;")]),t._v(" "),a("p",[t._v("}")]),t._v(" "),a("p",[t._v("将id作为属性选择器的一部分而不是id选择器，将使其具有与类相同的特异性。 上面的两个选择器现在具有相同的权重。 在优先级相同情况下，后面定义的CSS样式会被应用。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);
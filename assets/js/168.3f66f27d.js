(window.webpackJsonp=window.webpackJsonp||[]).push([[168],{599:function(t,e,a){"use strict";a.r(e);var v=a(2),_=Object(v.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"数据传送指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据传送指令"}},[t._v("#")]),t._v(" 数据传送指令")]),t._v(" "),e("h3",{attrs:{id:"通用数据传送指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#通用数据传送指令"}},[t._v("#")]),t._v(" 通用数据传送指令")]),t._v(" "),e("h4",{attrs:{id:"mov"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mov"}},[t._v("#")]),t._v(" MOV")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("MOV dst,src")])]),t._v(" "),e("li",[t._v("功能：将"),e("code",[t._v("src")]),t._v("传送到"),e("code",[t._v("dst")])]),t._v(" "),e("li",[t._v("限制：段寄存器间不可直接相互传送，立即数不能直接送段寄存器，CS 不可作为目的操作数。")])]),t._v(" "),e("h4",{attrs:{id:"push-pop"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#push-pop"}},[t._v("#")]),t._v(" PUSH & POP")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("PUSH src")]),t._v(" & "),e("code",[t._v("POP dst")])]),t._v(" "),e("li",[t._v("功能：将 "),e("code",[t._v("src")]),t._v(" 压栈 & 出栈送入 "),e("code",[t._v("dst")])]),t._v(" "),e("li",[t._v("限制：CS 不可作目的操作数")])]),t._v(" "),e("h4",{attrs:{id:"xchg"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#xchg"}},[t._v("#")]),t._v(" XCHG")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("XCHG dst,src")])]),t._v(" "),e("li",[t._v("含义：交换两者（Exchange）")]),t._v(" "),e("li",[t._v("限制：段寄存器不可为操作数，也不能同时为存储单元")])]),t._v(" "),e("h4",{attrs:{id:"xlat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#xlat"}},[t._v("#")]),t._v(" XLAT")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("XLAT")])]),t._v(" "),e("li",[t._v("含义：转换表（Table Look-up Translation）")]),t._v(" "),e("li",[t._v("功能：用 AL 内容查表，结果存回 AL，表格位于 DS:BX")])]),t._v(" "),e("hr"),t._v(" "),e("h3",{attrs:{id:"地址目标传送指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#地址目标传送指令"}},[t._v("#")]),t._v(" 地址目标传送指令")]),t._v(" "),e("h4",{attrs:{id:"lea"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lea"}},[t._v("#")]),t._v(" LEA")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("LEA dst,src")])]),t._v(" "),e("li",[t._v("含义：取有效地址（Load Effective Address）")]),t._v(" "),e("li",[t._v("功能：取"),e("code",[t._v("src")]),t._v("地址偏移量送"),e("code",[t._v("dst")])]),t._v(" "),e("li",[t._v("注：源操作数必须是存储单元，目的操作数必须是除段寄存器之外的 16 位寄存器。")])]),t._v(" "),e("h4",{attrs:{id:"lds-les"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lds-les"}},[t._v("#")]),t._v(" LDS & LES")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("LDS dst,src")]),t._v(" & "),e("code",[t._v("LES dst,src")])]),t._v(" "),e("li",[t._v("含义：取双字指针送到目的寄存器和 DS/ES")]),t._v(" "),e("li",[t._v("功能：从源操作数指定的存储单元中取出 4 字节，前两个字节送到目的寄存器，后两个字节送到 DS/ES。")])]),t._v(" "),e("hr"),t._v(" "),e("h3",{attrs:{id:"标志传送指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#标志传送指令"}},[t._v("#")]),t._v(" 标志传送指令")]),t._v(" "),e("h4",{attrs:{id:"pushf-popf"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pushf-popf"}},[t._v("#")]),t._v(" PUSHF & POPF")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("PUSHF")]),t._v(" & "),e("code",[t._v("POPF")])]),t._v(" "),e("li",[t._v("含义：将标志寄存器压栈/出栈")]),t._v(" "),e("li",[t._v("功能：从源操作数指定的存储单元中取出 4 字节，前两个字节送到目的寄存器，后两个字节送到 DS/ES。")])]),t._v(" "),e("h4",{attrs:{id:"lahf-sahf"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lahf-sahf"}},[t._v("#")]),t._v(" LAHF & SAHF")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("LAHF")]),t._v(" & "),e("code",[t._v("SAHF")])]),t._v(" "),e("li",[t._v("含义：Load(Store) AH from(into) Flags")]),t._v(" "),e("li",[t._v("功能：将标志寄存器送到 AH & 将 AH 送到标志寄存器")])]),t._v(" "),e("hr"),t._v(" "),e("h3",{attrs:{id:"输入输出指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#输入输出指令"}},[t._v("#")]),t._v(" 输入输出指令")]),t._v(" "),e("h4",{attrs:{id:"in-out"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#in-out"}},[t._v("#")]),t._v(" IN & OUT")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("IN AL/AX, ADDR")]),t._v(" & "),e("code",[t._v("OUT ADDR, AL/AX")])]),t._v(" "),e("li",[t._v("功能：从端口地址（寄存器）获取数据送到寄存器（端口地址）")]),t._v(" "),e("li",[t._v("地址格式：端口地址有两种格式，小于 FFH 时可以是直接写出，否则必须先送入 DX 再使用。")])]),t._v(" "),e("hr"),t._v(" "),e("h2",{attrs:{id:"算术运算指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#算术运算指令"}},[t._v("#")]),t._v(" 算术运算指令")]),t._v(" "),e("h3",{attrs:{id:"加减法指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#加减法指令"}},[t._v("#")]),t._v(" 加减法指令")]),t._v(" "),e("h4",{attrs:{id:"add-adc"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#add-adc"}},[t._v("#")]),t._v(" ADD & ADC")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("ADD dst,src")]),t._v(" & "),e("code",[t._v("ADC dst,src")])]),t._v(" "),e("li",[t._v("含义：（带进位）加法")]),t._v(" "),e("li",[t._v("功能：dst = src + dst (+ CF)")])]),t._v(" "),e("h4",{attrs:{id:"inc"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#inc"}},[t._v("#")]),t._v(" INC")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("INC dst")])]),t._v(" "),e("li",[t._v("功能：自增 1，dst = dst + 1")])]),t._v(" "),e("h4",{attrs:{id:"sub-sbb"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sub-sbb"}},[t._v("#")]),t._v(" SUB & SBB:")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("SUB dst,src")]),t._v(" & "),e("code",[t._v("SBB dst,src")])]),t._v(" "),e("li",[t._v("含义：（带借位）减法")]),t._v(" "),e("li",[t._v("功能：dst = dst - src (- CF)")])]),t._v(" "),e("h4",{attrs:{id:"dec"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dec"}},[t._v("#")]),t._v(" DEC:")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("DEC dst")])]),t._v(" "),e("li",[t._v("功能：自减 1，dst = dst + 1")])]),t._v(" "),e("h4",{attrs:{id:"neg"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#neg"}},[t._v("#")]),t._v(" NEG:")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("NEG dst")])]),t._v(" "),e("li",[t._v("功能：对目的操作数取负，dst = -dst")])]),t._v(" "),e("hr"),t._v(" "),e("h3",{attrs:{id:"乘除法指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#乘除法指令"}},[t._v("#")]),t._v(" 乘除法指令")]),t._v(" "),e("h4",{attrs:{id:"mul-imul"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mul-imul"}},[t._v("#")]),t._v(" MUL & IMUL")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("IMUL src")]),t._v(" & "),e("code",[t._v("MUL src")])]),t._v(" "),e("li",[t._v("含义：无符号数/整数乘法")]),t._v(" "),e("li",[t._v("功能：只有一个源操作数，当其为 8 位时，AX = AL * src，为 16 位时，（DX,AX）= AX * src")])]),t._v(" "),e("h4",{attrs:{id:"div-idiv"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#div-idiv"}},[t._v("#")]),t._v(" DIV & IDIV")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("IDIV src")]),t._v(" & "),e("code",[t._v("DIV src")])]),t._v(" "),e("li",[t._v("含义：无符号数/整数乘法")]),t._v(" "),e("li",[t._v("功能：只有一个源操作数作为除数，当其为 8 位时，AX 为被除数，AL 作为商，AH 作为余数。当 src 为 16 位时，（DX,AX）作为被除数，AX 作为商，DX 作为余数。")])]),t._v(" "),e("hr"),t._v(" "),e("h2",{attrs:{id:"逻辑运算与移位指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#逻辑运算与移位指令"}},[t._v("#")]),t._v(" 逻辑运算与移位指令")]),t._v(" "),e("h3",{attrs:{id:"逻辑运算"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#逻辑运算"}},[t._v("#")]),t._v(" 逻辑运算")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("指令")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("功能")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("NOT dst")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("取反，逻辑非")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("AND dst,src")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("逻辑与")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("OR dst,src")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("逻辑或")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("XOR dst,src")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("异或")])])])]),t._v(" "),e("h3",{attrs:{id:"算术逻辑移位"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#算术逻辑移位"}},[t._v("#")]),t._v(" 算术逻辑移位")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("指令")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("含义")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("功能")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("SAL dst,cnt")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Shift Arithmetic Left")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("算术左移 cnt 位")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("SAR dst,cnt")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Shift Arithmetic Right")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("算术右移 cnt 位")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("SHL dst,cnt")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Shift Logic Left")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("逻辑左移 cnt 位")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("SHR dst,cnt")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Shift Logic Right")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("逻辑右移 cnt 位")])])])]),t._v(" "),e("p",[t._v("cnt 为 1 或者 CL。算术右移时补最高位，逻辑右移补 0，被移出的移入 CF。")]),t._v(" "),e("h3",{attrs:{id:"循环移位"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#循环移位"}},[t._v("#")]),t._v(" 循环移位")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("指令")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("含义")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("功能")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("ROL dst,cnt")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Rotate Left")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("循环左移 cnt 位")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("ROR dst,cnt")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Rotate Right")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("循环右移 cnt 位")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("RCL dst,cnt")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Rotate through Carry Left")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("带进位左移 cnt 位")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("RCR dst,cnt")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Rotate through Carry Right")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("带进位右移 cnt 位")])])])]),t._v(" "),e("hr"),t._v(" "),e("h2",{attrs:{id:"字符串操作指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#字符串操作指令"}},[t._v("#")]),t._v(" 字符串操作指令")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("指令（字节/字）")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("功能")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("MOVSB / MOVSW")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("字符串传送")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("CMPSB / CMPSW")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("字符串比较")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("SCASB / SCASW")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("字符串扫描")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("LODSB / LODSW")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("字符串装入")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("STOSB / STOSW")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("字符串存储")])])])]),t._v(" "),e("p",[t._v("对于后三条指令，操作使用 AL/AX 寄存器（根据操作数类型决定）。")]),t._v(" "),e("ul",[e("li",[t._v("源串起始地址为 DS:SI，目的串位于 ES:DI")]),t._v(" "),e("li",[t._v("每一次操作都会自动修改 SI 和 DI")]),t._v(" "),e("li",[t._v("DF 标志位可以控制字符串处理方向，DF = 0 递增，DF = 1 递减，可通过 "),e("code",[t._v("CLD/STD")]),t._v(" 设置")]),t._v(" "),e("li",[t._v("处理字符串长度放在 CX 中")])]),t._v(" "),e("p",[t._v("这些指令前可以用重复前缀 "),e("code",[t._v("REP")]),t._v(" 反复执行，或是 "),e("code",[t._v("REPE/REPZ")]),t._v(" 相等/为零则重复，"),e("code",[t._v("REPNE/REPNZ")]),t._v(" 不相等/非零则重复。")]),t._v(" "),e("hr"),t._v(" "),e("h2",{attrs:{id:"处理器控制指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#处理器控制指令"}},[t._v("#")]),t._v(" 处理器控制指令")]),t._v(" "),e("h3",{attrs:{id:"标志处理指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#标志处理指令"}},[t._v("#")]),t._v(" 标志处理指令")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("指令")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("含义")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("功能")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("CLC")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Clear Carry")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("CF = 0")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("CMC")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Complement Carry")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("CF = NOT CF")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("STC")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Set Carry")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("CF = 1")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("CLD")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Clear Direction")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("DF = 0")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("STD")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Set Direction")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("DF = 1")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("CLI")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Clear Interrupt")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("IF = 0")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("STI")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Set Interrupt")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("IF = 1")])])])]),t._v(" "),e("hr"),t._v(" "),e("h3",{attrs:{id:"外部同步指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#外部同步指令"}},[t._v("#")]),t._v(" 外部同步指令")]),t._v(" "),e("h4",{attrs:{id:"esc"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#esc"}},[t._v("#")]),t._v(" ESC")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("ESC 外部操作码，src")])]),t._v(" "),e("li",[t._v("功能：用来实现对 8087 协处理器控制。")])]),t._v(" "),e("h4",{attrs:{id:"wait"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#wait"}},[t._v("#")]),t._v(" WAIT")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("WAIT")])]),t._v(" "),e("li",[t._v("功能：往往跟在 "),e("code",[t._v("ESC")]),t._v(" 后等待，直到 ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯TESTTEST¯ 为低电平。")])]),t._v(" "),e("h4",{attrs:{id:"lock"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lock"}},[t._v("#")]),t._v(" LOCK")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("LOCK")])]),t._v(" "),e("li",[t._v("功能：封锁总线，禁止其他处理器使用总线。")])]),t._v(" "),e("hr"),t._v(" "),e("h3",{attrs:{id:"停机和空操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#停机和空操作"}},[t._v("#")]),t._v(" 停机和空操作")]),t._v(" "),e("h4",{attrs:{id:"hlt"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hlt"}},[t._v("#")]),t._v(" HLT")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("HLT")])]),t._v(" "),e("li",[t._v("功能：进入暂停状态不进行任何操作，直到复位或 NMI 引脚/INTR 引脚出现中断请求信号。")])]),t._v(" "),e("h4",{attrs:{id:"nop"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nop"}},[t._v("#")]),t._v(" NOP")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("NOP")])]),t._v(" "),e("li",[t._v("功能：耗费三个时钟周期但不进行任何操作。")])]),t._v(" "),e("hr"),t._v(" "),e("h2",{attrs:{id:"控制转移指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#控制转移指令"}},[t._v("#")]),t._v(" 控制转移指令")]),t._v(" "),e("h3",{attrs:{id:"比较指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#比较指令"}},[t._v("#")]),t._v(" 比较指令")]),t._v(" "),e("h4",{attrs:{id:"cmp"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cmp"}},[t._v("#")]),t._v(" CMP")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("CMP dst,src")])]),t._v(" "),e("li",[t._v("功能：用 dst 减去 src，但结果仅反映到标志位，不送回目的操作数。")])]),t._v(" "),e("h4",{attrs:{id:"test"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#test"}},[t._v("#")]),t._v(" TEST")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("TEST dst,src")])]),t._v(" "),e("li",[t._v("功能：对两个操作数作逻辑与，结果仅反映到标志位，不送回目的操作数。")])]),t._v(" "),e("hr"),t._v(" "),e("h3",{attrs:{id:"无条件转移"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#无条件转移"}},[t._v("#")]),t._v(" 无条件转移")]),t._v(" "),e("h4",{attrs:{id:"jmp"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jmp"}},[t._v("#")]),t._v(" JMP")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("JMP dst")])]),t._v(" "),e("li",[t._v("功能：无条件跳转到目的地址。")])]),t._v(" "),e("p",[t._v("跳转分为两种，一种是段内转移或近（NEAR）转移，跳转时仅改变 IP 的值，另一种是段间转移或远（FAR）转移，此时跳转长度超过 IP 最大值，CS 和 IP 都要改变。这两种情况都提供直接转移和间接转移两种方法，前者直接给出目的地址，后者将目的地址放在寄存器或者存储单元中。")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("方式")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("寻址目标")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("举例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("段内")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("直接")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("立即短转移（8位）")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("JMP SHORT 标号")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("段内")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("直接")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("立即近转移（16位）")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("JMP NEAR PTR 标号")]),t._v("或"),e("code",[t._v("JMP 标号")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("段内")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("间接")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("寄存器（16位）")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("JMP BX")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("段内")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("间接")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("存储器（16位）")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("JMP WORD PTR 5[BX]")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("段间")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("直接")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("立即转移（32位）")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("JMP FAR PTR 标号")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("段间")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("间接")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("存储器（32位）")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("JMP DWORD PTR[REG]")])])])])]),t._v(" "),e("h4",{attrs:{id:"call"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#call"}},[t._v("#")]),t._v(" CALL")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("CALL 过程名")])]),t._v(" "),e("li",[t._v("功能：调用过程。")])]),t._v(" "),e("p",[t._v("同样有段内与段间，直接与间接的区分，指令格式与 JMP 类似。")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("方式")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("寻址目标")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("举例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("段内")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("直接")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("立即调用")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("CALL 标号")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("段内")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("间接")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("寄存器（16位）")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("CALL BX")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("段内")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("间接")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("存储器（16位）")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("CALL WORD PTR 5[BX]")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("段间")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("直接")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("立即调用（32位）")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("CALL FAR PTR 标号")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("段间")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("间接")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("存储器（32位）")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("CALL DWORD PTR[REG]")])])])])]),t._v(" "),e("h4",{attrs:{id:"ret"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ret"}},[t._v("#")]),t._v(" RET")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("RET (n)")])]),t._v(" "),e("li",[t._v("功能：过程返回。如果有 n 则在弹出返回地址后再弹出 n 个字节，这一目的是让调用过程可以传递参数。")])]),t._v(" "),e("hr"),t._v(" "),e("h3",{attrs:{id:"条件转移"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#条件转移"}},[t._v("#")]),t._v(" 条件转移")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("操作符 标号")])]),t._v(" "),e("li",[t._v("功能：根据操作符，满足即跳转到标号。")])]),t._v(" "),e("h4",{attrs:{id:"直接标志转移"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#直接标志转移"}},[t._v("#")]),t._v(" 直接标志转移")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("指令")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("测试条件")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("判断条件")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("JC")]),t._v("/"),e("code",[t._v("JNC")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("CF = 1 / 0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("有 / 无进位")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("JZ")]),t._v("/"),e("code",[t._v("JNZ")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("ZF = 1 / 0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("相等 / 不相等")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("JE")]),t._v("/"),e("code",[t._v("JNE")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("ZF = 1 / 0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("相等 / 不相等")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("JS")]),t._v("/"),e("code",[t._v("JNS")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SF = 1 / 0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("符号为负 / 正")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("JO")]),t._v("/"),e("code",[t._v("JNO")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("OF = 1 / 0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("溢出 / 无溢出")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("JP")]),t._v("/"),e("code",[t._v("JNP")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("PF = 1 / 0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("为偶数 / 奇数")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("JPE")]),t._v("/"),e("code",[t._v("JPO")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("PF = 1 / 0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("为偶数 / 奇数")])])])]),t._v(" "),e("h4",{attrs:{id:"无符号数比较测试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#无符号数比较测试"}},[t._v("#")]),t._v(" 无符号数比较测试")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("指令")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("测试条件")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("判断条件")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("JA")]),t._v("/"),e("code",[t._v("JNBE")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("CF ∨∨ ZF = 0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("高于 / 不低于等于")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("JAE")]),t._v("/"),e("code",[t._v("JNB")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("CF = 0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("高于等于 / 不低于")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("JNAE")]),t._v("/"),e("code",[t._v("JB")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("CF = 1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("不高于等于 / 低于")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("JNA")]),t._v("/"),e("code",[t._v("JBE")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("CF ∨∨ ZF = 1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("不高于 / 低于等于")])])])]),t._v(" "),e("h4",{attrs:{id:"有符号数比较测试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#有符号数比较测试"}},[t._v("#")]),t._v(" 有符号数比较测试")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("指令")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("测试条件")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("判断条件")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("JG")]),t._v("/"),e("code",[t._v("JNLE")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("(SF XORXOR OF) ∨∨ ZF = 0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("大于 / 不小于等于")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("JGE")]),t._v("/"),e("code",[t._v("JNL")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SF XORXOR OF = 0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("大于等于 / 不小于")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("JNGE")]),t._v("/"),e("code",[t._v("JL")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SF XORXOR OF = 1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("不大于等于 / 小于")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("JNG")]),t._v("/"),e("code",[t._v("JLE")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("(SF XORXOR OF) ∨∨ ZF = 1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("不大于 / 小于等于")])])])]),t._v(" "),e("hr"),t._v(" "),e("h3",{attrs:{id:"循环控制指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#循环控制指令"}},[t._v("#")]),t._v(" 循环控制指令")]),t._v(" "),e("h4",{attrs:{id:"loop"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#loop"}},[t._v("#")]),t._v(" LOOP")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("LOOP 标号")])]),t._v(" "),e("li",[t._v("功能：跳至标号继续循环，每执行一次 CX 减一，若减一后为零则不跳转。")])]),t._v(" "),e("h4",{attrs:{id:"loope-loopne"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#loope-loopne"}},[t._v("#")]),t._v(" LOOPE & LOOPNE")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("LOOPE 标号")]),t._v(" & "),e("code",[t._v("LOOPNE 标号")])]),t._v(" "),e("li",[t._v("功能：（不）相等时循环，其他与 LOOP 相同。")])]),t._v(" "),e("h4",{attrs:{id:"loopz-loopnz"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#loopz-loopnz"}},[t._v("#")]),t._v(" LOOPZ & LOOPNZ")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("LOOPZ 标号")]),t._v(" & "),e("code",[t._v("LOOPNZ 标号")])]),t._v(" "),e("li",[t._v("功能：结果（不）为零时循环，其他与 LOOP 相同。")])]),t._v(" "),e("h4",{attrs:{id:"jcxz"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jcxz"}},[t._v("#")]),t._v(" JCXZ")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("JCXZ 标号")])]),t._v(" "),e("li",[t._v("功能：CX 为零则跳转，否则就往下执行， CS 不会减一。")])]),t._v(" "),e("hr"),t._v(" "),e("h3",{attrs:{id:"中断指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#中断指令"}},[t._v("#")]),t._v(" 中断指令")]),t._v(" "),e("h4",{attrs:{id:"int"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#int"}},[t._v("#")]),t._v(" INT")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("INT n")])]),t._v(" "),e("li",[t._v("功能：调用 n 对应的功能。")])]),t._v(" "),e("h4",{attrs:{id:"into"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#into"}},[t._v("#")]),t._v(" INTO")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("INTO")])]),t._v(" "),e("li",[t._v("功能：如果溢出标识 OF 为 1 则产生类型为 4 的中断，否则就继续向下执行。")])]),t._v(" "),e("h4",{attrs:{id:"iret"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#iret"}},[t._v("#")]),t._v(" IRET")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("IRET")])]),t._v(" "),e("li",[t._v("功能：中断返回。")])]),t._v(" "),e("hr"),t._v(" "),e("h2",{attrs:{id:"bios-dos-调用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bios-dos-调用"}},[t._v("#")]),t._v(" BIOS & DOS 调用")]),t._v(" "),e("p",[t._v("调用这两者用的是 INT 中断指令。")]),t._v(" "),e("ul",[e("li",[t._v("格式："),e("code",[t._v("INT n")])]),t._v(" "),e("li",[t._v("功能：调用 n 对应的功能。")])]),t._v(" "),e("p",[t._v("其中 n = 21H 是最为强大的 DOS 中断。一般调用中断须先将参数放入指定寄存器，功能号放入 AH，子功能号放入 AL，例如")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("1 2 MOV AX,4C00H INT 21H \n")])])]),e("p",[t._v("常用的功能号有")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("功能号")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("功能")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("参数")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("01H")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("输入一个字符")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("AL = 输入字符")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("0AH")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("输入字符串")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("DX:DX = 缓冲区首地址")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("02H")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("显示一个字符")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("DL = 显示字符")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("09H")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("显示 $ 结尾的字符串")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("DX:DX = 字符串首地址")])])])]),t._v(" "),e("h2",{attrs:{id:"各个指令的细节"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#各个指令的细节"}},[t._v("#")]),t._v(" 各个指令的细节")]),t._v(" "),e("h3",{attrs:{id:"test和cmp指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#test和cmp指令"}},[t._v("#")]),t._v(" test和cmp指令")]),t._v(" "),e("p",[t._v("看过破解教程,都知道test,cmp是比较关键,来分析一下它们究竟是怎么比较\n首先看看:状态寄存器(即标志寄存器)")]),t._v(" "),e("p",[t._v("PSW(Program Flag)程序状态字(即标志)寄存器,是一个16位寄存器,由条件码标志(flag)和控制标志构成,\n如下所示:")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("15")]),t._v(" "),e("th",[t._v("14")]),t._v(" "),e("th",[t._v("13")]),t._v(" "),e("th",[t._v("12")]),t._v(" "),e("th",[t._v("11")]),t._v(" "),e("th",[t._v("10")]),t._v(" "),e("th",[t._v("9")]),t._v(" "),e("th",[t._v("8")]),t._v(" "),e("th",[t._v("7")]),t._v(" "),e("th",[t._v("6")]),t._v(" "),e("th",[t._v("5")]),t._v(" "),e("th",[t._v("4")]),t._v(" "),e("th",[t._v("3")]),t._v(" "),e("th",[t._v("2")]),t._v(" "),e("th",[t._v("1")]),t._v(" "),e("th",[t._v("0")]),t._v(" "),e("th"),t._v(" "),e("th")])]),t._v(" "),e("tbody",[e("tr",[e("td"),t._v(" "),e("td"),t._v(" "),e("td"),t._v(" "),e("td"),t._v(" "),e("td",[t._v("OF")]),t._v(" "),e("td",[t._v("DF")]),t._v(" "),e("td",[t._v("IF")]),t._v(" "),e("td",[t._v("TF")]),t._v(" "),e("td",[t._v("SF")]),t._v(" "),e("td",[t._v("ZF")]),t._v(" "),e("td",[t._v("0")]),t._v(" "),e("td",[t._v("AF")]),t._v(" "),e("td",[t._v("0")]),t._v(" "),e("td",[t._v("PF")]),t._v(" "),e("td",[t._v("0")]),t._v(" "),e("td",[t._v("CF")]),t._v(" "),e("td"),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td"),t._v(" "),e("td"),t._v(" "),e("td"),t._v(" "),e("td"),t._v(" "),e("td"),t._v(" "),e("td"),t._v(" "),e("td"),t._v(" "),e("td"),t._v(" "),e("td"),t._v(" "),e("td"),t._v(" "),e("td"),t._v(" "),e("td"),t._v(" "),e("td"),t._v(" "),e("td"),t._v(" "),e("td"),t._v(" "),e("td"),t._v(" "),e("td"),t._v(" "),e("td")])])]),t._v(" "),e("p",[t._v("条件码：\n①OF(Overflow Flag)溢出标志,溢出时为1,否则置0.标明一个溢出了的计算,如:结构和目标不匹配.\n②SF(Sign Flag)符号标志,结果为负时置1,否则置0.\n③ZF(Zero Flag)零标志,运算结果为0时置1,否则置0.\n④CF(Carry Flag)进位标志,进位时置1,否则置0.注意:Carry标志中存放计算后最右的位.\n⑤AF(Auxiliary carry Flag)辅助进位标志，记录运算时第3位(半个字节)产生的进位置。有进位时1,否则置0.\n⑥PF(Parity Flag)奇偶标志.结果操作数中1的个数为偶数时置1,否则置0.")]),t._v(" "),e("p",[t._v("控制标志位：\n⑦DF(Direction Flag)方向标志，在串处理指令中控制信息的方向。\n⑧IF(Interrupt Flag)中断标志。\n⑨TF(Trap Flag)陷井标志。")]),t._v(" "),e("hr"),t._v(" "),e("p",[t._v("为举例方便说一下jnz和jz\n测试条件")]),t._v(" "),e("div",{staticClass:"language-c extra-class"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[t._v("JZ   ZF"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nJNZ  ZF"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v("\n")])])]),e("p",[t._v("即\nJz＝jump if zero (结果为0则设置ZF零标志为1,跳转)\nJnz＝jump if not zero")]),t._v(" "),e("p",[t._v("好,接着来看test和cmp")]),t._v(" "),e("hr"),t._v(" "),e("p",[t._v("test属于逻辑运算指令")]),t._v(" "),e("p",[t._v("功能: 执行BIT与BIT之间的逻辑运算\n测试(两操作数作与运算,仅修改标志位,不回送结果).\nTest对两个参数(目标，源)执行AND逻辑操作,并根据结果设置标志寄存器,结果本身不会保存。TEST AX,BX 与 AND AX,BX 命令有相同效果")]),t._v(" "),e("p",[t._v("语法: TEST r/m,r/m/data\n影响标志: C,O,P,Z,S(其中C与O两个标志会被设为0)")]),t._v(" "),e("p",[t._v("运用举例:\n1.Test用来测试一个位,例如寄存器:")]),t._v(" "),e("div",{staticClass:"language-c extra-class"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[t._v("test eax"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("b"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("          b后缀意为二进制\njnz  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("             如果eax右数第三个位为"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("jnz将会跳转\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v("\n")])])]),e("p",[t._v("我是这样想的,jnz跳转的条件是ZF=0,ZF=0意味着ZF(零标志)没被置位,即逻辑与结果为1.")]),t._v(" "),e("p",[t._v("2.Test的一个非常普遍的用法是用来测试一方寄存器是否为空:")]),t._v(" "),e("div",{staticClass:"language-c extra-class"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[t._v("test ecx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ecx\njz somewhere\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v("\n")])])]),e("p",[t._v("如果ecx为零,设置ZF零标志为1,Jz跳转")]),t._v(" "),e("hr"),t._v(" "),e("p",[t._v("CMP属于算术运算指令")]),t._v(" "),e("p",[t._v("功能: 比较两个值(寄存器,内存,直接数值)\n语法: CMP r/m,r/m/data\n标志位: C,P,A,Z,O")]),t._v(" "),e("p",[t._v("CMP比较.(两操作数作减法,仅修改标志位,不回送结果).\ncmp实际上是只设置标志不保存结构的减法,并设置Z-flag(零标志).\n零标志很像carry,也是内部标志寄存器的一位.")]),t._v(" "),e("p",[t._v("例如:")]),t._v(" "),e("div",{staticClass:"language-c extra-class"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[t._v("Cmp eax"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("       如果eax"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("即eax＝"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("就设置零标志为"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nJz "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("          如果设置了零标志就跳转\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v("\n")])])]),e("hr"),t._v(" "),e("p",[t._v("结论\ntest逻辑与运算结果为零,就把ZF(零标志)置1;\ncmp 算术减法运算结果为零,就把ZF(零标志)置1.")])])}),[],!1,null,null,null);e.default=_.exports}}]);